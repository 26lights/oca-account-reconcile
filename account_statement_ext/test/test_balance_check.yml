-
  In order to test the banking framework, I first need to create a profile
-
  !record {model: account.statement.profile, id: profile_test1}:
    name: Bank EUR Profile
    journal_id: account.bank_journal
    commission_account_id: account.a_expense
    company_id: base.main_company
    balance_check: True
-
  I create a second profile
-
  !record {model: account.statement.profile, id: profile_test2}:
    name: Second profile
    journal_id: account.bank_journal
    commission_account_id: account.a_expense
    company_id: base.main_company
    balance_check: True
-
  Now I create a statement.
-
  !record {model: account.bank.statement, id: statement_test1}:
    name: Statement 1
    profile_id: profile_test1
    company_id: base.main_company
-
  Now I check that the balance_check of the statement is enabled.
-
  !assert {model: account.bank.statement, id: statement_test1, string: We should check the balance}:
    - balance_check is True
-
  Now I set the flag to False in the profile
-
  !record {model: account.statement.profile, id: profile_test1}:
    balance_check: False
-
  It should be false in the statement as well.
-
  !assert {model: account.bank.statement, id: statement_test1, string: We should not check the balance}:
    - balance_check is False
-
  Now I change the profile associated to the statement.
-
  !record {model: account.bank.statement, id: statement_test1}:
    profile_id: profile_test2
-
  The statement should receive information from the new statement.
-
  !assert {model: account.bank.statement, id: statement_test1, string: We should check the balance}:
    - balance_check is True
